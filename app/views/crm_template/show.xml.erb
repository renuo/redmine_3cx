<Crm xmlns:xsi="http://www.w2.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" Country="CH" Name="Redmine" Version="2" SupportsEmojis="false">
  <Connection MaxConcurrentRequests="8" />
  <Parameters>
    <Parameter Name="Email" Type="String" Parent="General Configuration" Editor="String" Title="Email:" />
    <Parameter Name="Password" Type="Password" Parent="General Configuration" Editor="String" Title="Password:" />
    <Parameter Name="Domain" Type="String" Parent="General Configuration" Editor="String" Title="Domain:" />
  </Parameters>
  <Authentication Type="No" />
  <Scenarios>
    <Scenario Type="REST" EntityId="Contacts">
      <Request Url="https://[Domain]/3cx/contacts.json?phone=[[Number]]" RequestEncoding="UrlEncoded" RequestType="Get" ResponseType="Json">
      </Request>
      <Rules>
        <Rule Type="Any">contacts.id</Rule>
      </Rules>
      <Variables>
        <Variable Name="ContactID" Path="contacts.id"><Filter /></Variable>
        <Variable Name="FirstName" Path="contacts.firstname"><Filter /></Variable>
        <Variable Name="LastName" Path="contacts.lastname"><Filter /></Variable>
        <Variable Name="Company" Path="contacts.company"><Filter /></Variable>
        <Variable Name="PhoneBusiness" Path="contacts.phone"><Filter /></Variable>
        </Variables>
        <Outputs AllowEmpty="false">
          <Output Type="ContactID" Passes="0" Value="[ContactID]" />
          <Output Type="FirstName" Passes="0" Value="[FirstName]" />
          <Output Type="LastName" Passes="0" Value="[LastName]" />
          <Output Type="PhoneBusiness" Passes="0" Value="[PhoneBusiness]" />
          <Output Type="EntityId" Passes="0" Value="[ContactID]" />
          <Output Type="EntityType" Passes="0" Value="Contacts" />
          <Output Type="ContactUrl" Passes="0" Value="https://[Domain]/contacts/[ContactID]" />
        </Outputs>
    </Scenario>
  </Scenarios>
</Crm>
