<Crm xmlns:xsi="http://www.w2.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" Country="CH" Name="Redmine" Version="2" SupportsEmojis="false">
  <Connection MaxConcurrentRequests="8" />
  <Parameters>
    <Parameter Name="Domain" Type="String" Parent="General Configuration" Editor="String" Title="Domain:" />
  </Parameters>
  <Authentication Type="No" />
  <Scenarios>
    <Scenario Type="REST" EntityId="Contacts">
      <Request Url="https://[Domain]/3cx/contacts.json?phone=[[Number]]" RequestEncoding="UrlEncoded" RequestType="Get" ResponseType="Json">
      </Request>
      <Rules>
        <Rule Type="Any">contacts.id</Rule>
      </Rules>
      <Variables>
        <Variable Name="ContactId" Path="contacts.id"><Filter /></Variable>
        <Variable Name="FirstName" Path="contacts.firstname"><Filter /></Variable>
        <Variable Name="LastName" Path="contacts.lastname"><Filter /></Variable>
        <Variable Name="Company" Path="contacts.company"><Filter /></Variable>
        <Variable Name="PhoneBusiness" Path="contacts.phone_business"><Filter /></Variable>
        <Variable Name="PhoneBusiness2" Path="contacts.phone_business2"><Filter /></Variable>
        <Variable Name="PhoneHome" Path="contacts.phone_home"><Filter /></Variable>
        <Variable Name="PhoneHome2" Path="contacts.phone_home2"><Filter /></Variable>
        <Variable Name="PhoneMobile" Path="contacts.phone_mobile"><Filter /></Variable>
        <Variable Name="PhoneMobile2" Path="contacts.phone_mobile2"><Filter /></Variable>
        <Variable Name="PhoneOther" Path="contacts.phone_other"><Filter /></Variable>
      </Variables>
      <Outputs AllowEmpty="false">
        <Output Type="FirstName" Passes="0" Value="[FirstName]" />
        <Output Type="LastName" Passes="0" Value="[LastName]" />
        <Output Type="PhoneBusiness" Passes="0" Value="[PhoneBusiness]" />
        <Output Type="PhoneBusiness2" Passes="0" Value="[PhoneBusiness2]" />
        <Output Type="PhoneHome" Passes="0" Value="[PhoneHome]" />
        <Output Type="PhoneHome2" Passes="0" Value="[PhoneHome2]" />
        <Output Type="PhoneMobile" Passes="0" Value="[PhoneMobile]" />
        <Output Type="PhoneMobile2" Passes="0" Value="[PhoneMobile2]" />
        <Output Type="PhoneOther" Passes="0" Value="[PhoneOther]" />
        <Output Type="EntityId" Passes="0" Value="[ContactId]" />
        <Output Type="EntityType" Passes="0" Value="Contacts" />
        <Output Type="ContactUrl" Passes="0" Value="https://[Domain]/contacts/[ContactID]" />
      </Outputs>
    </Scenario>
  </Scenarios>
</Crm>
